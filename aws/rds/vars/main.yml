---
module_vars:
  path: aws
  ns: database
  name: rds

variables:
  ansible_vars_file:
    description: 'The full path to the file which to write the endpoint to'
    # default: '{{ ansible_dir }}/group_vars/{{ infrastructure_env }}/tf-rds-{{ service }}-{{ resource }}-{{ component }}.yml'
  ansible_vars_key:
    description: 'The key under which to write the endpoint'
    # default: 'tf_{{ application_name }}_rds'
  allocated_storage:
    description: 'The size of disk for storage'
    default: 10
  availability_zone:
    description: 'Which AZ to place the DB instance'
    default: us-east-1a
  backup_retention_period:
    description: 'description'
    default: 7
  backup_window:
    description: 'description'
    default: '16:35-17:05'
  cidr_blocks:
    description: 'description'
    default: '172.16.0.0/24, 172.16.1.0/24'
  engine:
    description: 'database name'
    default: postgres
  engine_version:
    description: 'description'
    default: 9.5.4
  final_snapshot_identifier:
    description: 'description'
    # default: '{{ application_name }}-{{ resource }}-{{ infrastructure_env }}-final'
  identifier:
    description: 'description'
    # default: '{{ application_name }}-{{ resource }}-{{ infrastructure_env }}'
  instance_class:
    description: 'description'
    default: db.m3.medium
  maintenance_window:
    description: 'description'
    default: 'mon:21:27-mon:21:57'
  multi_az:
    description: 'description'
    default: 'false'
  name:
    description: 'The name of the default database to create'
    # default: '{{ application_name }}_{{ resource }}_{{ infrastructure_env }}'
  parameter_group_name:
    description: 'description'
    default: default.postgres9.5
  password:
    description: 'master password'
  port:
    description: 'description'
    default: 5432
  publicly_accessible:
    description: 'description'
    default: 'false'
  storage_encrypted:
    description: 'description'
    default: 'true'
  storage_type:
    description: 'description'
    default: gp2
  username:
    description: 'master username'

remote_state_vars:
  vpc_id:
    description: description
    reference: vpc
  vpc_security_group_ids:
    description: description
    reference: vpc.security_group_id_public
  vpc_subnet_ids:
    description: description
    type: list
    reference: ['vpc.subnet_id_public_1', 'vpc.subnet_id_public_2']

output_vars:
  instance_id:
    description: description
    value: aws_db_instance.main.id
  instance_address:
    description: description
    value: aws_db_instance.main.address
